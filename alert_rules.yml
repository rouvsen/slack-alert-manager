groups:
  - name: SpringBootAlerts
    rules:
      - alert: HighServerErrorRate
        expr: |
          sum(rate(http_server_requests_seconds_count{status=~"5.."}[1m]))
          /
          sum(rate(http_server_requests_seconds_count[1m])) > 0.05
        for: 0s
        labels:
          severity: critical
        annotations:
          summary: "High 5xx Error Rate Detected"
          description: "More than 5% of requests resulted in 5xx errors on instance {{ $labels.instance }}."
